<section class="detail" *ngIf="!isLoading && article">
  <div class="container">
    <div class="detail__head">
      <a routerLink="/blog"> –ë–ª–æ–≥ / </a> <span>{{ article.title }}</span>
    </div>

    <div class="detail__body">
      <div class="detail__body-main-content">
        <div class="detail__body-main-texts">
          <div class="detail__dody-title">{{ article.title }}</div>
          <div class="detail__dody-description">{{ article.description }}</div>
        </div>
        <div class="detail__body-main-image">
          <img [src]="serverStaticPath + article.image" [alt]="article.title">

        </div>
      </div>

      <div class="detail__body-content">
        <div class="detail__body-content-block">
          <div class="detail__body-content-block-description" [innerHTML]="article.text"></div>

          <div class="detail__body-social">
            <div class="detail__body-social-title">–ü–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å —Å—Ç–∞—Ç—å—è? –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –µ—é –≤ —Å–≤–æ–∏—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö!</div>
            <div class="detail__body-social-icons">
              <a href="https://vk.com">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_42_1407)">
                    <path
                      d="M3.82283 0.178284C1.82091 0.178284 0.178223 1.82097 0.178223 3.82289V16.1762C0.178223 18.1781 1.82091 19.8208 3.82283 19.8208H16.1761C18.1781 19.8208 19.8208 18.1781 19.8208 16.1762V3.82289C19.8208 1.82097 18.1781 0.178284 16.1761 0.178284H3.82283ZM3.82283 1.96397H16.1761C17.212 1.96397 18.0351 2.78706 18.0351 3.82289V16.1762C18.0351 17.212 17.212 18.0351 16.1761 18.0351H3.82283C2.787 18.0351 1.96391 17.212 1.96391 16.1762V3.82289C1.96391 2.78706 2.787 1.96397 3.82283 1.96397ZM9.74838 6.63395C9.0927 6.62698 8.53467 6.63395 8.22078 6.78741C8.01152 6.88855 7.85109 7.11874 7.94874 7.1292C8.07081 7.14664 8.34634 7.20593 8.49282 7.40473C8.68115 7.65933 8.67418 8.23479 8.67418 8.23479C8.67418 8.23479 8.77881 9.81819 8.41958 10.017C8.17195 10.153 7.83365 9.87748 7.10124 8.61844C6.72806 7.96973 6.44556 7.25476 6.44556 7.25476C6.44556 7.25476 6.39324 7.12223 6.29559 7.05247C6.17701 6.96528 6.01309 6.93738 6.01309 6.93738L4.26577 6.94784C4.26577 6.94784 4.00419 6.95831 3.91003 7.06991C3.82283 7.17454 3.90305 7.38031 3.90305 7.38031C3.90305 7.38031 5.27022 10.5785 6.81874 12.1898C8.23822 13.6686 9.84952 13.5709 9.84952 13.5709H10.5819C10.5819 13.5709 10.8017 13.5465 10.9133 13.4279C11.0179 13.3163 11.0144 13.1071 11.0144 13.1071C11.0144 13.1071 11.0005 12.127 11.4538 11.9805C11.9038 11.841 12.4757 12.9292 13.0861 13.3477C13.5499 13.6651 13.9022 13.5953 13.9022 13.5953L15.5344 13.5709C15.5344 13.5709 16.3854 13.5186 15.9808 12.8455C15.9494 12.7932 15.7472 12.3502 14.7706 11.4434C13.7452 10.4948 13.8813 10.6483 15.1159 9.00557C15.8657 8.00461 16.1657 7.39426 16.0715 7.1292C15.9808 6.88158 15.4298 6.94784 15.4298 6.94784L13.5918 6.95831C13.5918 6.95831 13.4558 6.94087 13.3546 7.00016C13.257 7.05945 13.1942 7.19896 13.1942 7.19896C13.1942 7.19896 12.9012 7.97322 12.5141 8.63239C11.698 10.0205 11.3667 10.0972 11.2341 10.01C10.9237 9.80773 11.0005 9.20088 11.0005 8.77189C11.0005 7.42217 11.2062 6.86414 10.6029 6.71766C10.4041 6.66883 10.2576 6.63744 9.74838 6.63395Z"
                      fill="#709FDC"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_42_1407">
                      <rect width="19.9997" height="19.9997" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>

              </a>
              <a href="http://facebook.com">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_42_1407)">
                    <path
                      d="M3.82283 0.178284C1.82091 0.178284 0.178223 1.82097 0.178223 3.82289V16.1762C0.178223 18.1781 1.82091 19.8208 3.82283 19.8208H16.1761C18.1781 19.8208 19.8208 18.1781 19.8208 16.1762V3.82289C19.8208 1.82097 18.1781 0.178284 16.1761 0.178284H3.82283ZM3.82283 1.96397H16.1761C17.212 1.96397 18.0351 2.78706 18.0351 3.82289V16.1762C18.0351 17.212 17.212 18.0351 16.1761 18.0351H3.82283C2.787 18.0351 1.96391 17.212 1.96391 16.1762V3.82289C1.96391 2.78706 2.787 1.96397 3.82283 1.96397ZM9.74838 6.63395C9.0927 6.62698 8.53467 6.63395 8.22078 6.78741C8.01152 6.88855 7.85109 7.11874 7.94874 7.1292C8.07081 7.14664 8.34634 7.20593 8.49282 7.40473C8.68115 7.65933 8.67418 8.23479 8.67418 8.23479C8.67418 8.23479 8.77881 9.81819 8.41958 10.017C8.17195 10.153 7.83365 9.87748 7.10124 8.61844C6.72806 7.96973 6.44556 7.25476 6.44556 7.25476C6.44556 7.25476 6.39324 7.12223 6.29559 7.05247C6.17701 6.96528 6.01309 6.93738 6.01309 6.93738L4.26577 6.94784C4.26577 6.94784 4.00419 6.95831 3.91003 7.06991C3.82283 7.17454 3.90305 7.38031 3.90305 7.38031C3.90305 7.38031 5.27022 10.5785 6.81874 12.1898C8.23822 13.6686 9.84952 13.5709 9.84952 13.5709H10.5819C10.5819 13.5709 10.8017 13.5465 10.9133 13.4279C11.0179 13.3163 11.0144 13.1071 11.0144 13.1071C11.0144 13.1071 11.0005 12.127 11.4538 11.9805C11.9038 11.841 12.4757 12.9292 13.0861 13.3477C13.5499 13.6651 13.9022 13.5953 13.9022 13.5953L15.5344 13.5709C15.5344 13.5709 16.3854 13.5186 15.9808 12.8455C15.9494 12.7932 15.7472 12.3502 14.7706 11.4434C13.7452 10.4948 13.8813 10.6483 15.1159 9.00557C15.8657 8.00461 16.1657 7.39426 16.0715 7.1292C15.9808 6.88158 15.4298 6.94784 15.4298 6.94784L13.5918 6.95831C13.5918 6.95831 13.4558 6.94087 13.3546 7.00016C13.257 7.05945 13.1942 7.19896 13.1942 7.19896C13.1942 7.19896 12.9012 7.97322 12.5141 8.63239C11.698 10.0205 11.3667 10.0972 11.2341 10.01C10.9237 9.80773 11.0005 9.20088 11.0005 8.77189C11.0005 7.42217 11.2062 6.86414 10.6029 6.71766C10.4041 6.66883 10.2576 6.63744 9.74838 6.63395Z"
                      fill="#709FDC"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_42_1407">
                      <rect width="19.9997" height="19.9997" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>

              </a>
              <a href="https://instagram.com">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_42_1405)">
                    <path
                      d="M5.95453 0.178284C2.78424 0.178284 0.178955 2.78008 0.178955 5.95386V14.0452C0.178955 17.2155 2.78075 19.8208 5.95453 19.8208H14.0459C17.2162 19.8208 19.8215 17.219 19.8215 14.0452V5.95386C19.8215 2.78357 17.2197 0.178284 14.0459 0.178284H5.95453ZM5.95453 1.96397H14.0459C16.2536 1.96397 18.0358 3.74617 18.0358 5.95386V14.0452C18.0358 16.2529 16.2536 18.0351 14.0459 18.0351H5.95453C3.74684 18.0351 1.96464 16.2529 1.96464 14.0452V5.95386C1.96464 3.74617 3.74684 1.96397 5.95453 1.96397ZM15.2736 3.91706C14.8237 3.91706 14.4644 4.27629 14.4644 4.7262C14.4644 5.17611 14.8237 5.53534 15.2736 5.53534C15.7235 5.53534 16.0827 5.17611 16.0827 4.7262C16.0827 4.27629 15.7235 3.91706 15.2736 3.91706ZM10.0002 4.6425C7.05315 4.6425 4.64317 7.05247 4.64317 9.99955C4.64317 12.9466 7.05315 15.3566 10.0002 15.3566C12.9473 15.3566 15.3573 12.9466 15.3573 9.99955C15.3573 7.05247 12.9473 4.6425 10.0002 4.6425ZM10.0002 6.42818C11.9847 6.42818 13.5716 8.01507 13.5716 9.99955C13.5716 11.984 11.9847 13.5709 10.0002 13.5709C8.01574 13.5709 6.42885 11.984 6.42885 9.99955C6.42885 8.01507 8.01574 6.42818 10.0002 6.42818Z"
                      fill="#709FDC"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_42_1405">
                      <rect width="19.9997" height="19.9997" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>

              </a>
            </div>
          </div>

          <div class="detail__body-comment" *ngIf="article">

            <div class="detail__body-comment-title"
                 [class.with-padding]="isLoggedIn"
            >–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∞—Ç—å–µ</div>


            <!-- ‚úÖ –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
            <ng-container>

              <!-- üîí –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
              <div *ngIf="isLoggedIn; else loginInfo">
                <form [formGroup]="commentForm" (ngSubmit)="addComment()">
      <textarea
        cols="30"
        rows="5"
        class="input"
        formControlName="comment"
        placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Å—Ç–∞—Ç—å–µ..."
      ></textarea>
                  <button class="button" type="submit">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</button>
                </form>
              </div>

              <!-- üîπ –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö -->
              <ng-template #loginInfo>
                <div class="detail__body-comment-auth">
                  –ß—Ç–æ–±—ã –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, <a routerLink="/login">–≤–æ–π–¥–∏—Ç–µ</a> –∏–ª–∏ <a routerLink="/signup">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>.
                </div>
              </ng-template>

              <!-- üß© –°–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ ‚Äî –≤–∏–¥–µ–Ω –≤—Å–µ–º -->
              <div class="detail__body-comment-blocks" *ngIf="comments.length; else noComments">
                <div class="detail__body-comment-block" *ngFor="let comment of comments">
                  <div class="detail__body-comment-user">
                    <div class="detail__body-comment-user-img">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" fill="none">
                        <mask id="mask0_348_413" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="60" height="60">
                          <circle cx="30" cy="30" r="30" fill="#C4C4C4"/>
                        </mask>
                        <g mask="url(#mask0_348_413)">
                          <circle cx="29.9751" cy="22.7368" r="11.7368" stroke="#709FDC" stroke-width="2"/>
                          <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M49.942 55.0001C49.3422 44.4932 40.632 36.158 29.9749 36.158C19.3179 36.158 10.6077 44.4932 10.0079 55.0001H8.00488C8.607 43.388 18.2131 34.158 29.9749 34.158C41.7368 34.158 51.3429 43.388 51.945 55.0001H49.942Z"
                                fill="#709FDC"/>
                        </g>
                      </svg>
                    </div>

                    <div class="detail__body-comment-user-info">
                      <div class="name">{{ comment.user.name }}</div>
                      <div class="date">{{ comment.date | date:'dd.MM.yyyy HH:mm' }}</div>
                    </div>
                  </div>

                  <div class="detail__body-comment-text">{{ comment.text }}</div>

                  <!-- üí¨ –õ–∞–π–∫–∏ –∏ –¥–∏–∑–ª–∞–π–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω -->
                  <div class="detail__body-comment-action"  [class.disabled]="!isLoggedIn">
                    <div class="like"
                         [class.active]="commentActions[comment.id] === 'like'"
                         (click)="isLoggedIn && onAction(comment.id, 'like')">
                      <p>{{ comment.likesCount }}</p>
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.47998 18.35L10.58 20.75C10.98 21.15 11.88 21.35 12.48 21.35H16.28C17.48 21.35 18.78 20.45 19.08 19.25L21.48 11.95C21.98 10.55 21.08 9.34997 19.58 9.34997H15.58C14.98 9.34997 14.48 8.84997 14.58 8.14997L15.08 4.94997C15.28 4.04997 14.68 3.04997 13.78 2.74997C12.98 2.44997 11.98 2.84997 11.58 3.44997L7.47998 9.54997" stroke="#071739" stroke-width="1.5" stroke-miterlimit="10"/>
                        <path d="M2.37988 18.35V8.55002C2.37988 7.15002 2.97988 6.65002 4.37988 6.65002H5.37988C6.77988 6.65002 7.37988 7.15002 7.37988 8.55002V18.35C7.37988 19.75 6.77988 20.25 5.37988 20.25H4.37988C2.97988 20.25 2.37988 19.75 2.37988 18.35Z" stroke="#071739" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>

                    </div>

                    <div class="dislike"
                         [class.active]="commentActions[comment.id] === 'dislike'"
                         (click)="isLoggedIn && onAction(comment.id, 'dislike')">
                      <p>{{ comment.dislikesCount }}</p>
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                        <path
                          d="M16.5197 5.65002L13.4197 3.25002C13.0197 2.85002 12.1197 2.65002 11.5197 2.65002H7.71973C6.51973 2.65002 5.21973 3.55002 4.91973 4.75002L2.51973 12.05C2.01973 13.45 2.91973 14.65 4.41973 14.65H8.41973C9.01973 14.65 9.51973 15.15 9.41973 15.85L8.91973 19.05C8.71973 19.95 9.31973 20.95 10.2197 21.25C11.0197 21.55 12.0197 21.15 12.4197 20.55L16.5197 14.45"
                          stroke="#071739" stroke-width="1.5" stroke-miterlimit="10"/>
                        <path
                          d="M21.6201 5.65V15.45C21.6201 16.85 21.0201 17.35 19.6201 17.35H18.6201C17.2201 17.35 16.6201 16.85 16.6201 15.45V5.65C16.6201 4.25 17.2201 3.75 18.6201 3.75H19.6201C21.0201 3.75 21.6201 4.25 21.6201 5.65Z"
                          stroke="#071739" stroke-width="1.5" stroke-linecap="round"
                          stroke-linejoin="round"/>
                      </svg>
                    </div>

                    <div class="spam"    (click)="isLoggedIn && onAction(comment.id, 'violate')">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                           xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z"
                              stroke="#071739" stroke-width="1.5" stroke-linecap="round"
                              stroke-linejoin="round"/>
                        <path d="M12 8V13" stroke="#071739" stroke-width="1.5"
                              stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M11.9946 16H12.0036" stroke="#071739" stroke-width="1.5"
                              stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </div>
                  </div>
                </div>

                <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ -->
                <div class="detail__body-comment-more" *ngIf="canLoadMore && !isLoadingMore"
                     (click)="loadMoreComments()">
                  <p>–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</p>
                </div>

                <div *ngIf="isLoadingMore" class="loader">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
              </div>

              <!-- üü° –ù–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ -->
              <ng-template #noComments>
                <div class="detail__body-comment-no">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</div>
              </ng-template>
            </ng-container>


            <div class="detail__body-comment-no" *ngIf="!comments.length">
              –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç
            </div>
          </div>

        </div>

        <div class="detail__body-content-info-bar" *ngIf="relatedArticle.length">
          <div class="detail-article">
            <div class="detail-article-title">
              –ß–∏—Ç–∞–π—Ç–µ —Ç–∞–∫–∂–µ:
            </div>
            <div class="article-cart-items">
              <article-cart
                *ngFor="let article of relatedArticle"
                [articleTops]="article">
              </article-cart>
            </div>
          </div>

        </div>
      </div>


    </div>
  </div>
</section>
